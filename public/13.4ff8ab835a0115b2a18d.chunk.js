webpackJsonp([13],{"./app/containers/StudyPage/ReviewsSection/index.js":function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r("./node_modules/react/index.js"),d=r.n(s),a=r("./node_modules/prop-types/index.js"),u=(r.n(a),r("./node_modules/react-router-prop-types/dist/index.js")),l=(r.n(u),r("./node_modules/react-stars/dist/react-stars.js")),p=r.n(l),c=r("./node_modules/react-bootstrap/es/index.js"),v=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,o,i){var n=t&&t.defaultProps,s=arguments.length-3;if(r||0===s||(r={}),r&&n)for(var d in n)void 0===r[d]&&(r[d]=n[d]);else r||(r=n||{});if(1===s)r.children=i;else if(s>1){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+3];r.children=a}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:r,_owner:null}}}(),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),m=v("h1",{},void 0,"No Reviews!"),y=v("br",{}),w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),f(t,[{key:"getName",value:function(e){return e.first_name?e.first_name+" "+e.last_name[0]:e.email}},{key:"render",value:function(){var e=this,t=void 0;return t=this.props.reviews&&0!==this.props.reviews.length?v(c.u,{striped:!0},void 0,v("tbody",{},void 0,this.props.reviews.map(function(t){return v("tr",{},t.review.id,v("td",{},void 0,v(c.t,{style:{marginBottom:"10px"}},void 0,v(c.d,{md:8},void 0,v("b",{},void 0,e.getName(t.user)),y),v(c.d,{md:4,className:"text-right"},void 0,v("small",{},void 0,new Date(t.review.created_at).toLocaleDateString("en-US")))),v(c.t,{},void 0,v(c.d,{md:9},void 0,v("div",{dangerouslySetInnerHTML:{__html:t.review.text_html}})),v(c.d,{md:3,style:{textAlign:"right"}},void 0,e.props.AuthHeader.user.loggedIn&&t.user.id===e.props.AuthHeader.user.id?v(c.c,{},void 0,v(c.b,{id:"edit-review-"+t.review.id,onClick:function(){return e.props.history.push("/review/"+e.props.nctId+"/edit/"+t.review.id)}},void 0,"Edit"),v(c.b,{id:"delete-review-"+t.review.id,onClick:function(){return e.props.deleteReview(t.review.nct_id,t.review.id)}},void 0,"Delete")):null)),v(c.t,{style:{marginTop:"10px"}},void 0,Object.keys(t.review.stars).map(function(e){return v("div",{},e,v(c.d,{md:2},void 0,v(p.a,{count:5,edit:!1,value:t.review.stars[e]}),v(c.l,{},void 0,e)))}))))}))):m,v(c.j,{},void 0,v(c.t,{style:{marginBottom:"10px"}},void 0,v(c.d,{mdOffset:9,md:3},void 0,v(c.b,{className:"pull-right",onClick:function(t){t.preventDefault(),e.props.history.push("/study/"+e.props.nctId+"/reviews/new")}},void 0,"Write a Review"))),v(c.t,{},void 0,t))}}]),t}(d.a.Component);w.defaultProps={reviews:[]},t.default=w}});