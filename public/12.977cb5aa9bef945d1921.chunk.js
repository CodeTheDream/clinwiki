webpackJsonp([12],{"./app/containers/StudyPage/ReviewsSection/index.js":function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r("./node_modules/react/react.js"),s=r.n(i),l=r("./node_modules/prop-types/index.js"),u=(r.n(l),r("./node_modules/react-router-prop-types/dist/index.js")),c=(r.n(u),r("./node_modules/react-stars/dist/react-stars.js")),f=r.n(c),d=r("./node_modules/react-bootstrap/es/index.js"),v=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var a=t&&t.defaultProps,i=arguments.length-3;if(r||0===i||(r={}),r&&a)for(var s in a)void 0===r[s]&&(r[s]=a[s]);else r||(r=a||{});if(1===i)r.children=o;else if(i>1){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=v("h1",{},void 0,"No Reviews!"),y=v("br",{}),m=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"getName",value:function(e){return e.first_name?e.first_name+" "+e.last_name[0]:e.email}},{key:"render",value:function(){var e=this,t=void 0;return t=this.props.reviews&&0!==this.props.reviews.length?v(d.r,{striped:!0},void 0,v("tbody",{},void 0,this.props.reviews.map(function(t){return v("tr",{},t.review.id,v("td",{},void 0,v(d.q,{style:{marginBottom:"10px"}},void 0,v(d.c,{md:8},void 0,v("b",{},void 0,e.getName(t.user)),y),v(d.c,{md:4,className:"text-right"},void 0,v("small",{},void 0,new Date(t.review.created_at).toLocaleDateString("en-US")))),v(d.q,{},void 0,v(d.c,{md:9},void 0,v("div",{dangerouslySetInnerHTML:{__html:t.review.text_html}})),v(d.c,{md:3,style:{textAlign:"right"}},void 0,e.props.AuthHeader.user.loggedIn&&t.user.id===e.props.AuthHeader.user.id?v(d.b,{},void 0,v(d.a,{id:"edit-review-"+t.review.id,onClick:function(){return e.props.history.push("/review/"+e.props.nctId+"/edit/"+t.review.id)}},void 0,"Edit"),v(d.a,{id:"delete-review-"+t.review.id,onClick:function(){return e.props.deleteReview(t.review.nct_id,t.review.id)}},void 0,"Delete")):null)),v(d.q,{style:{marginTop:"10px"}},void 0,Object.keys(t.review.stars).map(function(e){return v("div",{},e,v(d.c,{md:2},void 0,v(f.a,{count:5,edit:!1,value:t.review.stars[e]}),v(d.k,{},void 0,e)))}))))}))):h,v(d.i,{},void 0,v(d.q,{style:{marginBottom:"10px"}},void 0,v(d.c,{mdOffset:9,md:3},void 0,v(d.a,{className:"pull-right",onClick:function(t){t.preventDefault(),e.props.history.push("/study/"+e.props.nctId+"/reviews/new")}},void 0,"Write a Review"))),v(d.q,{},void 0,t))}}]),t}(s.a.Component);m.defaultProps={reviews:[]},t.default=m},"./node_modules/react-stars/dist/react-stars.js":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r("./node_modules/react/react.js"),c=n(u),f=r("./node_modules/prop-types/index.js"),d=n(f),v={overflow:"hidden",position:"relative"},p={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"},h=function(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"},y=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e=s({},e),r.state={uniqueness:(Math.random()+"").replace(".",""),value:e.value||0,stars:[],halfStar:{at:Math.floor(e.value),hidden:e.half&&e.value%1<.5}},r.state.config={count:e.count,size:e.size,char:e.char,color1:e.color1,color2:e.color2,half:e.half,edit:e.edit},r}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.setState({stars:this.getStars(this.state.value)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({stars:this.getStars(e.value),value:e.value,halfStar:{at:Math.floor(e.value),hidden:this.state.config.half&&e.value%1<.5}})}},{key:"isDecimal",value:function(e){return e%1!=0}},{key:"getRate",value:function(){return this.state.config.half?Math.floor(this.state.value):Math.round(this.state.value)}},{key:"getStars",value:function(e){void 0===e&&(e=this.getRate());for(var t=[],r=0;r<this.state.config.count;r++)t.push({active:r<=e-1});return t}},{key:"mouseOver",value:function(e){var t=this.state,r=t.config,n=t.halfStar;if(r.edit){var o=Number(e.target.getAttribute("data-index"));if(r.half){var a=this.moreThanHalf(e,r.size);n.hidden=a,a&&(o+=1),n.at=o}else o+=1;this.setState({stars:this.getStars(o)})}}},{key:"moreThanHalf",value:function(e,t){var r=e.target,n=e.clientX-r.getBoundingClientRect().left;return(n=Math.round(Math.abs(n)))>t/2}},{key:"mouseLeave",value:function(){var e=this.state,t=e.value,r=e.halfStar,n=e.config;n.edit&&(n.half&&(r.hidden=!this.isDecimal(t),r.at=Math.floor(this.state.value)),this.setState({stars:this.getStars()}))}},{key:"clicked",value:function(e){var t=this.state,r=t.config,n=t.halfStar;if(r.edit){var o=Number(e.target.getAttribute("data-index")),a=void 0;if(r.half){var i=this.moreThanHalf(e,r.size);n.hidden=i,i&&(o+=1),a=i?o:o+.5,n.at=o}else a=o+=1;this.setState({value:a,stars:this.getStars(o)}),this.props.onChange(a)}}},{key:"renderHalfStarStyleElement",value:function(){var e=this.state,t=e.config,r=e.uniqueness;return c.default.createElement("style",{dangerouslySetInnerHTML:{__html:h(t.color2,r)}})}},{key:"renderStars",value:function(){var e=this,t=this.state,r=t.halfStar,n=t.stars,o=t.uniqueness,a=t.config,i=a.color1,l=a.color2,u=a.size,f=a.char,d=a.half,v=a.edit;return n.map(function(t,n){var a="";d&&!r.hidden&&r.at===n&&(a="react-stars-"+o);var h=s({},p,{color:t.active?l:i,cursor:v?"pointer":"default",fontSize:u+"px"});return c.default.createElement("span",{className:a,style:h,key:n,"data-index":n,"data-forhalf":f,onMouseOver:e.mouseOver.bind(e),onMouseMove:e.mouseOver.bind(e),onMouseLeave:e.mouseLeave.bind(e),onClick:e.clicked.bind(e)},f)})}},{key:"render",value:function(){var e=this.props.className;return c.default.createElement("div",{className:e,style:v},this.state.config.half?this.renderHalfStarStyleElement():"",this.renderStars())}}]),t}(u.Component);y.propTypes={className:d.default.string,edit:d.default.bool,half:d.default.bool,value:d.default.number,count:d.default.number,char:d.default.string,size:d.default.number,color1:d.default.string,color2:d.default.string},y.defaultProps={edit:!0,half:!0,value:0,count:5,char:"â˜…",size:15,color1:"gray",color2:"#ffd700",onChange:function(){}},t.default=y}});