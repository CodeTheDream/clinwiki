webpackJsonp([15],{"./app/containers/StudyPage/ReviewsSection/index.js":function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r("./node_modules/react/index.js"),a=r.n(s),d=r("./node_modules/prop-types/index.js"),l=(r.n(d),r("./node_modules/react-router-prop-types/dist/index.js")),u=(r.n(l),r("./node_modules/react-stars/dist/react-stars.js")),p=r.n(u),v=r("./node_modules/react-bootstrap/es/index.js"),c=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,o,i){var n=t&&t.defaultProps,s=arguments.length-3;if(r||0===s||(r={}),r&&n)for(var a in n)void 0===r[a]&&(r[a]=n[a]);else r||(r=n||{});if(1===s)r.children=i;else if(s>1){for(var d=Array(s),l=0;l<s;l++)d[l]=arguments[l+3];r.children=d}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:r,_owner:null}}}(),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),m=c("h1",{},void 0,"No Reviews!"),w=c("br",{}),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),f(t,[{key:"getName",value:function(e){return e.first_name?e.first_name+" "+e.last_name[0]:e.email}},{key:"render",value:function(){var e=this,t=void 0;return t=this.props.reviews&&0!==this.props.reviews.length?c(v.Col,{md:12},void 0,c(v.Table,{id:"reviews-table",striped:!0},void 0,c("tbody",{},void 0,this.props.reviews.map(function(t){return c("tr",{className:"review-row"},t.review.id,c("td",{},void 0,c(v.Row,{style:{marginBottom:"10px"}},void 0,c(v.Col,{md:8,className:"name-of-user"},void 0,c("b",{},void 0,e.getName(t.user)),w),c(v.Col,{md:4,className:"text-right"},void 0,c("small",{},void 0,new Date(t.review.created_at).toLocaleDateString("en-US")))),c(v.Row,{},void 0,c(v.Col,{md:9},void 0,c("div",{className:"review-html",dangerouslySetInnerHTML:{__html:t.review.text_html}})),c(v.Col,{md:3,style:{textAlign:"right"}},void 0,e.props.AuthHeader.user.loggedIn&&t.user.id===e.props.AuthHeader.user.id?c(v.ButtonGroup,{},void 0,c(v.Button,{className:"edit-review-button",id:"edit-review-"+t.review.id,onClick:function(){return e.props.history.push("/study/"+e.props.nctId+"/review/"+t.review.id+"/edit")}},void 0,"Edit"),c(v.Button,{className:"delete-review-button",id:"delete-review-"+t.review.id,onClick:function(){return e.props.deleteReview(t.review.nct_id,t.review.id)}},void 0,"Delete")):null)),c(v.Row,{style:{marginTop:"10px"}},void 0,Object.keys(t.review.stars).map(function(e){return c("div",{},e,c(v.Col,{md:2,className:"star-rating star-rating-"+e.replace(" ","-")},void 0,c(p.a,{count:5,edit:!1,value:t.review.stars[e]}),c(v.Label,{},void 0,e)))}))))})))):m,c(v.Grid,{},void 0,c(v.Row,{style:{marginBottom:"10px"}},void 0,c(v.Col,{mdOffset:9,md:3},void 0,c(v.Button,{id:"write-review",className:"pull-right",onClick:function(t){t.preventDefault(),e.props.history.push("/study/"+e.props.nctId+"/reviews/new")}},void 0,"Write a Review"))),c(v.Row,{},void 0,t))}}]),t}(a.a.Component);y.defaultProps={reviews:[]},t.default=y}});